[gd_scene load_steps=16 format=3 uid="uid://1gpnqb7crgma"]

[ext_resource type="PackedScene" uid="uid://b4bcwfgvm4m6m" path="res://resources/Characters/enemies/enemy.tscn" id="1_5kp7x"]
[ext_resource type="Script" uid="uid://cik21k7xjaqw7" path="res://resources/Characters/enemies/skeleton warrior/skeleton_warrior.gd" id="2_or63o"]
[ext_resource type="PackedScene" uid="uid://bks0ynvp57mq1" path="res://resources/Characters/enemies/skeleton warrior/Skeleton_Warrior.glb" id="2_xlmne"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5kp7x"]
height = 2.4228516

[sub_resource type="BoxMesh" id="BoxMesh_5kp7x"]

[sub_resource type="PlaneMesh" id="PlaneMesh_xlmne"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_or63o"]
animation = &"1H_Melee_Attack_Slice_Diagonal"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_01byy"]
fadein_time = 0.2
fadeout_time = 0.2

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xlmne"]
animation = &"2H_Melee_Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5kp7x"]
animation = &"Walking_B"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_or63o"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_01byy"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_eohc7"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_5kp7x"]
states/Start/position = Vector2(227, 73)
states/idle/node = SubResource("AnimationNodeAnimation_xlmne")
states/idle/position = Vector2(370, 73)
states/walk/node = SubResource("AnimationNodeAnimation_5kp7x")
states/walk/position = Vector2(546, 73)
transitions = ["idle", "walk", SubResource("AnimationNodeStateMachineTransition_or63o"), "walk", "idle", SubResource("AnimationNodeStateMachineTransition_01byy"), "Start", "idle", SubResource("AnimationNodeStateMachineTransition_eohc7")]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_or63o"]
graph_offset = Vector2(-456.6537, 147.02272)
nodes/MoveStateMachine/node = SubResource("AnimationNodeStateMachine_5kp7x")
nodes/MoveStateMachine/position = Vector2(-180, 80)
nodes/AttackOneShot/node = SubResource("AnimationNodeOneShot_01byy")
nodes/AttackOneShot/position = Vector2(120, 80)
nodes/AttackAnimation/node = SubResource("AnimationNodeAnimation_or63o")
nodes/AttackAnimation/position = Vector2(-180, 280)
node_connections = [&"output", 0, &"AttackOneShot", &"AttackOneShot", 0, &"MoveStateMachine", &"AttackOneShot", 1, &"AttackAnimation"]

[node name="SkeletonWarrior" instance=ExtResource("1_5kp7x")]
script = ExtResource("2_or63o")

[node name="CollisionShape3D" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2114258, 0)
shape = SubResource("CapsuleShape3D_5kp7x")

[node name="Skin" parent="." index="1" instance=ExtResource("2_xlmne")]

[node name="Skeleton3D" parent="Skin/Rig" index="0"]
bones/1/position = Vector3(0.008410764, 0.36083278, 1.2184853e-10)
bones/2/rotation = Quaternion(-0.060599465, -0.13028215, -0.007978079, 0.9895912)
bones/2/scale = Vector3(1, 0.99999994, 1)
bones/3/rotation = Quaternion(0.03303927, 0.001080189, -0.008786697, 0.9994149)
bones/3/scale = Vector3(1, 0.99999994, 1.0000001)
bones/4/position = Vector3(0.24804358, 0.110857, 0.0825816)
bones/4/rotation = Quaternion(-0.5913276, -0.24404849, -0.7128999, 0.28730795)
bones/4/scale = Vector3(0.99999964, 0.99999887, 0.9999998)
bones/5/rotation = Quaternion(3.7835598e-08, -3.7808874e-08, -0.6130584, 0.7900377)
bones/6/rotation = Quaternion(1.1074521e-08, -5.1314546e-13, 0.026658095, 0.99964464)
bones/7/rotation = Quaternion(-0.14642234, -0.70231235, -0.052979954, 0.69463015)
bones/8/position = Vector3(8.348362e-10, 0.096125156, -0.057500064)
bones/8/rotation = Quaternion(-6.2927796e-09, 4.2439314e-09, -0.7071068, 0.7071067)
bones/9/position = Vector3(-0.17668214, 0.11170339, 0.0891542)
bones/9/rotation = Quaternion(-0.26066554, 0.3913483, 0.82273436, 0.3193873)
bones/9/scale = Vector3(0.9999996, 0.99999905, 0.99999976)
bones/10/rotation = Quaternion(2.6170522e-08, 4.2499774e-08, 0.5320776, 0.8466956)
bones/11/rotation = Quaternion(-7.942549e-09, -1.4398808e-08, -0.026658092, 0.99964464)
bones/12/rotation = Quaternion(-0.27349803, 0.18883294, -0.061104268, 0.9411734)
bones/13/position = Vector3(-8.348291e-10, 0.096125126, -0.057499945)
bones/13/rotation = Quaternion(0.1557105, -0.1894554, 0.67028934, 0.7004093)
bones/13/scale = Vector3(1, 1, 1)
bones/14/rotation = Quaternion(0.064112924, 0.13050734, 0.018416896, 0.98920083)
bones/14/scale = Vector3(0.99999994, 1, 1)
bones/16/position = Vector3(0.17094505, 0.11358726, 1.3923275e-08)
bones/16/rotation = Quaternion(0.9895898, 0.075855285, 0.04160535, 0.11500953)
bones/17/rotation = Quaternion(0.4563758, 6.283353e-08, -3.1177245e-07, 0.88978714)
bones/18/rotation = Quaternion(-0.6481653, -0.20793302, 0.073762625, 0.72883797)
bones/19/rotation = Quaternion(-8.844294e-06, 0.9201104, -0.391659, 1.8953092e-06)
bones/20/rotation = Quaternion(0.98541546, -0.040947076, -0.013099972, 0.1646458)
bones/21/rotation = Quaternion(0.48677003, -6.187869e-08, 3.36228e-07, 0.87353015)
bones/22/rotation = Quaternion(-0.65607435, 0.109426305, -0.03794768, 0.7457562)
bones/23/rotation = Quaternion(2.3299494e-06, 0.9201173, -0.39164305, -4.2339593e-08)
bones/24/rotation = Quaternion(0.7071068, -2.2930234e-07, -4.6055177e-08, 0.7071068)
bones/25/rotation = Quaternion(-0.7071068, -7.052851e-08, -7.0528486e-08, 0.7071068)
bones/26/position = Vector3(0.030839492, 0.38245776, -2.8668688e-15)
bones/26/rotation = Quaternion(1.0013814e-08, 1.91522e-09, 0.9846389, -0.1746031)
bones/27/position = Vector3(3.752948e-09, 0.21343613, -1.0342986e-08)
bones/27/rotation = Quaternion(-9.998893e-08, 0.39108434, 0.92035484, -3.3950656e-08)
bones/28/position = Vector3(2.3491044e-08, 0.16565004, -5.091363e-09)
bones/28/rotation = Quaternion(-0.39108434, -6.59362e-08, -5.8771594e-08, 0.92035484)
bones/29/rotation = Quaternion(1, 2.3026052e-09, 1.9333544e-07, -4.398443e-16)
bones/30/rotation = Quaternion(-6.9387756e-18, -9.555882e-16, -1.2016353e-08, 1)
bones/31/rotation = Quaternion(0.7071068, -3.823849e-08, 1.4500867e-07, 0.7071068)
bones/32/rotation = Quaternion(-0.7071068, -7.0528515e-08, -7.05285e-08, 0.7071068)
bones/33/rotation = Quaternion(-5.8358944e-09, 6.4383693e-10, 0.9948094, 0.10175614)
bones/34/position = Vector3(-1.114822e-08, 0.21343614, -2.5094192e-15)
bones/34/rotation = Quaternion(-1.05795515e-07, 0.39108434, 0.92035484, -2.5864264e-08)
bones/35/position = Vector3(-6.3112755e-09, 0.16565004, 2.7069498e-09)
bones/35/rotation = Quaternion(-0.39108434, -6.739311e-08, -6.2200165e-08, 0.92035484)
bones/36/rotation = Quaternion(1, 3.7652574e-09, 1.9487908e-07, 7.4505815e-09)
bones/37/rotation = Quaternion(1.00614094e-16, -6.7409847e-17, -1.574163e-08, 1)
bones/38/position = Vector3(0.8398419, 0.7198659, -0.44755834)
bones/38/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/39/position = Vector3(0.3436821, 0.79737914, 0.3942681)
bones/39/rotation = Quaternion(0.63055366, 0.07556007, 0.42967197, 0.6419306)
bones/39/scale = Vector3(0.9999999, 0.99999976, 0.9999999)
bones/40/position = Vector3(-0.87740976, 1.0355499, -0.44755882)
bones/40/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/41/position = Vector3(-0.3625772, 0.8163544, 0.29299474)
bones/41/rotation = Quaternion(-0.29239345, 0.22423801, 0.91800964, -0.14656645)

[node name="Skeleton_Warrior_Helmet" parent="Skin/Rig/Skeleton3D" index="0"]
transform = Transform3D(0.99976605, -0.021549677, 0.0018025339, 0.021623673, 0.99712485, -0.07262428, -0.00023236871, 0.07264632, 0.99735785, 0.02929221, 1.167847, -0.059417665)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Skin/Rig/Skeleton3D" index="10"]
transform = Transform3D(-0.18759291, 0.8133519, -0.55069596, -0.6109452, 0.34238547, 0.7138043, 0.7691248, 0.47035044, 0.43268514, -0.31529263, 0.68026036, 0.36392513)
bone_name = "handslot.r"
bone_idx = 13

[node name="MeshInstance3D" type="MeshInstance3D" parent="Skin/Rig/Skeleton3D/BoneAttachment3D" index="0"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 0, 0, 0)
mesh = SubResource("BoxMesh_5kp7x")

[node name="BoneAttachment3D2" type="BoneAttachment3D" parent="Skin/Rig/Skeleton3D" index="11"]
transform = Transform3D(0.45634574, 0.6193484, 0.6388699, 0.16442764, 0.64692855, -0.7446107, -0.8744776, 0.44484836, 0.19338483, 0.25017095, 0.8038615, 0.5369557)
bone_name = "handslot.l"
bone_idx = 8

[node name="MeshInstance3D" type="MeshInstance3D" parent="Skin/Rig/Skeleton3D/BoneAttachment3D2" index="0"]
transform = Transform3D(0.25900206, 0.010115648, -0.15104838, -0.12273478, 0.18926175, -0.19777808, 0.08862343, 0.23254606, 0.16753575, 0.097349405, 0.10584831, 0.1279318)
mesh = SubResource("PlaneMesh_xlmne")

[node name="AnimationTree" parent="." index="2"]
root_node = NodePath("../Skin")
tree_root = SubResource("AnimationNodeBlendTree_or63o")
anim_player = NodePath("../Skin/AnimationPlayer")
parameters/AttackOneShot/active = false
parameters/AttackOneShot/internal_active = false
parameters/AttackOneShot/request = 0

[connection signal="timeout" from="Timers/AttackTimer" to="." method="_on_attack_timer_timeout"]

[editable path="Skin"]
