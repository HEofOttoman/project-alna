[gd_scene load_steps=17 format=3 uid="uid://0ntwa17c8s3i"]

[ext_resource type="PackedScene" uid="uid://ckqgw4ydrms3u" path="res://resources/Characters/main_character/alna-Main_Character.blend" id="1_bi68h"]
[ext_resource type="Script" uid="uid://b010a71o28m72" path="res://resources/Characters/main_character/alna_main_character_skin.gd" id="2_q8n5d"]
[ext_resource type="AnimationNodeStateMachine" uid="uid://dkgf2ivbhbmu0" path="res://resources/player/movement_state_machine.tres" id="3_lnvb7"]

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_lnvb7"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_i655d"]
animation = &"Idle_Gun_Pointing"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_awd5o"]
animation = &"Punch_Left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hd263"]
animation = &"Punch_Right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_koahu"]
animation = &"Sword_Slash"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_hd263"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_bw5oq"]
xfade_time = 0.5

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lnvb7"]
xfade_time = 0.5

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_awd5o"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_lnvb7"]
states/Punch_Left/node = SubResource("AnimationNodeAnimation_awd5o")
states/Punch_Left/position = Vector2(356, 101)
states/Punch_Right/node = SubResource("AnimationNodeAnimation_hd263")
states/Punch_Right/position = Vector2(642, 194)
states/Start/position = Vector2(199, 100)
states/Sword_Slash/node = SubResource("AnimationNodeAnimation_koahu")
states/Sword_Slash/position = Vector2(356, 194)
transitions = ["Start", "Punch_Left", SubResource("AnimationNodeStateMachineTransition_hd263"), "Punch_Left", "Sword_Slash", SubResource("AnimationNodeStateMachineTransition_bw5oq"), "Sword_Slash", "Punch_Left", SubResource("AnimationNodeStateMachineTransition_lnvb7"), "Sword_Slash", "End", SubResource("AnimationNodeStateMachineTransition_awd5o")]
graph_offset = Vector2(-5, -2)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lnvb7"]
animation = &"Sword_Slash"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_i655d"]
filter_enabled = true
filters = [".", "AttackTimer", "CharacterArmature/Skeleton3D:Abdomen", "CharacterArmature/Skeleton3D:Chest", "CharacterArmature/Skeleton3D:Head", "CharacterArmature/Skeleton3D:Index1.R", "CharacterArmature/Skeleton3D:Index2.L", "CharacterArmature/Skeleton3D:Index2.R", "CharacterArmature/Skeleton3D:Index3.L", "CharacterArmature/Skeleton3D:Index3.R", "CharacterArmature/Skeleton3D:Index4.L", "CharacterArmature/Skeleton3D:Index4.R", "CharacterArmature/Skeleton3D:LowerArm.L", "CharacterArmature/Skeleton3D:LowerArm.R", "CharacterArmature/Skeleton3D:Middle1.R", "CharacterArmature/Skeleton3D:Middle2.L", "CharacterArmature/Skeleton3D:Middle2.R", "CharacterArmature/Skeleton3D:Middle3.L", "CharacterArmature/Skeleton3D:Middle3.R", "CharacterArmature/Skeleton3D:Middle4.L", "CharacterArmature/Skeleton3D:Middle4.R", "CharacterArmature/Skeleton3D:Neck", "CharacterArmature/Skeleton3D:Pinky1.R", "CharacterArmature/Skeleton3D:Pinky2.L", "CharacterArmature/Skeleton3D:Pinky2.R", "CharacterArmature/Skeleton3D:Pinky3.L", "CharacterArmature/Skeleton3D:Pinky3.R", "CharacterArmature/Skeleton3D:Pinky4.L", "CharacterArmature/Skeleton3D:Pinky4.R", "CharacterArmature/Skeleton3D:Ring1.R", "CharacterArmature/Skeleton3D:Ring2.L", "CharacterArmature/Skeleton3D:Ring2.R", "CharacterArmature/Skeleton3D:Ring3.L", "CharacterArmature/Skeleton3D:Ring3.R", "CharacterArmature/Skeleton3D:Ring4.L", "CharacterArmature/Skeleton3D:Ring4.R", "CharacterArmature/Skeleton3D:Shoulder.L", "CharacterArmature/Skeleton3D:Shoulder.R", "CharacterArmature/Skeleton3D:Thumb1.L", "CharacterArmature/Skeleton3D:Thumb1.R", "CharacterArmature/Skeleton3D:Thumb2.L", "CharacterArmature/Skeleton3D:Thumb2.R", "CharacterArmature/Skeleton3D:Thumb3.L", "CharacterArmature/Skeleton3D:Thumb3.R", "CharacterArmature/Skeleton3D:Torso", "CharacterArmature/Skeleton3D:UpperArm.L", "CharacterArmature/Skeleton3D:UpperArm.R", "CharacterArmature/Skeleton3D:Wrist.L", "CharacterArmature/Skeleton3D:Wrist.R"]
fadein_time = 0.2
fadeout_time = 0.2

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_lnvb7"]
graph_offset = Vector2(-552.83405, 42.940964)
nodes/output/position = Vector2(1000, 20)
nodes/Movement-StateMachine/node = ExtResource("3_lnvb7")
nodes/Movement-StateMachine/position = Vector2(-200, -40)
nodes/OneShot/node = SubResource("AnimationNodeOneShot_i655d")
nodes/OneShot/position = Vector2(640, 20)
nodes/AttackAnimation/node = SubResource("AnimationNodeAnimation_lnvb7")
nodes/AttackAnimation/position = Vector2(460, 320)
nodes/AimBlend/node = SubResource("AnimationNodeBlend2_lnvb7")
nodes/AimBlend/position = Vector2(300, -40)
nodes/Animation/node = SubResource("AnimationNodeAnimation_i655d")
nodes/Animation/position = Vector2(-180, 280)
nodes/Attack-StateMachine/node = SubResource("AnimationNodeStateMachine_lnvb7")
nodes/Attack-StateMachine/position = Vector2(220, 220)
node_connections = [&"output", 0, &"OneShot", &"OneShot", 0, &"Movement-StateMachine", &"OneShot", 1, &"Attack-StateMachine", &"AimBlend", 1, &"Animation"]

[node name="alna-Main_Character" instance=ExtResource("1_bi68h")]
script = ExtResource("2_q8n5d")

[node name="Skeleton3D" parent="CharacterArmature" index="0"]
bones/1/position = Vector3(0.00045321946, 0.83204806, -0.04560568)
bones/1/rotation = Quaternion(0, 0.2355304, 0, 0.971867)
bones/3/rotation = Quaternion(0.047781564, 4.3005366e-07, 2.844035e-08, 0.9988578)
bones/4/rotation = Quaternion(0.085464716, -0.23748346, 0.011578163, 0.9675554)
bones/5/rotation = Quaternion(-0.0013382421, 3.5285507e-07, 2.3048053e-05, 0.9999991)
bones/6/rotation = Quaternion(-0.009471056, 6.7769327e-07, -7.891064e-10, 0.99995524)
bones/7/rotation = Quaternion(-0.014110035, -0.00027544776, 6.925405e-05, 0.9999004)
bones/8/position = Vector3(0.098735474, 0.02901768, 0.021275692)
bones/8/rotation = Quaternion(0.45619938, 0.8402314, 0.10690721, -0.27288124)
bones/9/rotation = Quaternion(-0.6724215, 0.40654036, 0.3840211, 0.48487344)
bones/10/rotation = Quaternion(-0.12491655, -0.029011434, -0.18313801, 0.9746869)
bones/11/rotation = Quaternion(0.01112174, 0.017761618, 0.012660684, 0.9997003)
bones/13/rotation = Quaternion(-0.040866844, -0.032142602, 0.0670446, 0.99639446)
bones/14/rotation = Quaternion(-0.079051144, 0.011656322, 0.02505383, 0.99648756)
bones/15/rotation = Quaternion(-0.029872274, 0.009780755, 0.004962218, 0.99949354)
bones/17/rotation = Quaternion(-0.08885941, 0.025186539, -0.0059306547, 0.99570805)
bones/18/rotation = Quaternion(-0.1186278, 0.005811994, -0.018918293, 0.99274164)
bones/19/rotation = Quaternion(-0.019045558, 0.009171959, -0.011120888, 0.9997148)
bones/21/rotation = Quaternion(-0.07569117, 0.15826967, -0.0311785, 0.9839966)
bones/22/rotation = Quaternion(-0.113328636, 0.038097594, -0.038230844, 0.9920906)
bones/23/rotation = Quaternion(-0.07517977, 0.03008514, -0.0074802376, 0.99668807)
bones/25/rotation = Quaternion(-0.12658873, 0.1795841, -0.16197222, 0.96202385)
bones/26/rotation = Quaternion(-0.090797596, -0.05660937, -0.023062492, 0.9939917)
bones/27/rotation = Quaternion(-0.11694975, -0.018361047, -0.0028989268, 0.99296385)
bones/28/rotation = Quaternion(0.003877143, 0.19860779, -0.3457619, 0.9170543)
bones/29/rotation = Quaternion(-0.010143331, -0.13698415, 0.084159195, 0.9869396)
bones/30/rotation = Quaternion(-0.14525442, -0.053099543, 0.15456772, 0.9758025)
bones/31/position = Vector3(-0.098059915, 0.029017754, 0.021275876)
bones/31/rotation = Quaternion(-0.45619926, 0.8402316, 0.10690752, 0.27288073)
bones/32/rotation = Quaternion(-0.6227802, -0.31043753, -0.43422306, 0.5720347)
bones/33/rotation = Quaternion(-0.2167635, -0.19209051, 0.32291594, 0.9010218)
bones/34/rotation = Quaternion(0.010415779, -0.021232212, -0.041501597, 0.9988585)
bones/35/rotation = Quaternion(-0.00885779, -0.014218245, 0.09331991, 0.99549526)
bones/36/rotation = Quaternion(-0.052857153, 0.03364067, -0.066488676, 0.9958181)
bones/37/rotation = Quaternion(-0.08878331, -0.011361796, -0.024741486, 0.9956789)
bones/38/rotation = Quaternion(-0.029872274, -0.009780765, -0.004962211, 0.99949354)
bones/39/rotation = Quaternion(0.02572272, 0.019408824, -0.016910495, 0.9993376)
bones/40/rotation = Quaternion(-0.1043932, -0.026901936, -0.069011636, 0.9917741)
bones/41/rotation = Quaternion(-0.120410144, -0.006238879, 0.018847367, 0.99252576)
bones/42/rotation = Quaternion(-0.019045575, -0.009171943, 0.011120894, 0.99971473)
bones/43/rotation = Quaternion(0.009113169, 0.05034088, -0.12795717, 0.99045944)
bones/44/rotation = Quaternion(-0.081932895, -0.1605169, 0.036554217, 0.9829472)
bones/45/rotation = Quaternion(-0.11816421, -0.04022643, 0.041462973, 0.9913122)
bones/46/rotation = Quaternion(-0.07517976, -0.030085137, 0.0074802316, 0.99668807)
bones/47/rotation = Quaternion(0.017032549, 0.07191994, -0.22635871, 0.971236)
bones/48/rotation = Quaternion(-0.12658867, -0.17958407, 0.16197225, 0.9620238)
bones/49/rotation = Quaternion(-0.090797596, 0.05660938, 0.02306245, 0.9939917)
bones/50/rotation = Quaternion(-0.1169498, 0.018361019, 0.0028989257, 0.9929639)
bones/51/rotation = Quaternion(0.019557796, -0.18572316, 0.43515944, 0.8807728)
bones/52/rotation = Quaternion(0.032630432, 0.12587328, -0.085180216, 0.98784393)
bones/53/rotation = Quaternion(-0.12653854, 0.056348894, -0.12646875, 0.9822518)
bones/54/rotation = Quaternion(0.5358738, -0.017604366, -0.8363861, 0.11396378)
bones/54/scale = Vector3(0.99999595, 0.99999964, 1.0000728)
bones/55/rotation = Quaternion(0.17812972, 0.6843026, -0.17812964, 0.6843022)
bones/56/rotation = Quaternion(0.5559588, 0.12098678, 0.80614763, 0.16247483)
bones/56/scale = Vector3(0.99999726, 0.9999996, 1.0000701)
bones/57/rotation = Quaternion(0.1578199, -0.6892701, 0.15781978, 0.6892696)
bones/58/position = Vector3(0.12059154, 0.022751734, -0.18702765)
bones/58/rotation = Quaternion(0.61441374, 0.3480438, -0.34615317, 0.6176887)
bones/59/position = Vector3(0.5682192, 0.62651205, 0.22707659)
bones/60/position = Vector3(-0.06850713, 0.02275173, 0.17368552)
bones/60/rotation = Quaternion(0.70403296, 0.040968817, -0.040789712, 0.7078102)
bones/61/position = Vector3(-0.018165782, 0.42326432, 0.65894055)

[node name="UpperLeg_L" parent="CharacterArmature/Skeleton3D" index="0"]
transform = Transform3D(-0.76389354, 0.22210892, -0.60595626, -0.20950203, -0.9734044, -0.092699066, -0.61038303, 0.056132965, 0.79017055, 0.11567718, 0.93079734, -0.011975773)

[node name="Adventurer_Body" parent="CharacterArmature/Skeleton3D" index="1"]
visible = false

[node name="Adventurer_Feet" parent="CharacterArmature/Skeleton3D" index="2"]
visible = false

[node name="Adventurer_Head" parent="CharacterArmature/Skeleton3D" index="3"]
visible = false

[node name="Backpack" parent="CharacterArmature/Skeleton3D" index="4"]
visible = false

[node name="Cape" parent="CharacterArmature/Skeleton3D" index="5"]
visible = false

[node name="Farmer_Body" parent="CharacterArmature/Skeleton3D" index="6"]
visible = false

[node name="Farmer_Feet" parent="CharacterArmature/Skeleton3D" index="7"]
visible = false

[node name="Farmer_Head" parent="CharacterArmature/Skeleton3D" index="8"]
visible = false

[node name="Farmer_Pants" parent="CharacterArmature/Skeleton3D" index="9"]
visible = false

[node name="King_Feet" parent="CharacterArmature/Skeleton3D" index="12"]
visible = false

[node name="King_Head" parent="CharacterArmature/Skeleton3D" index="13"]
visible = false

[node name="King_Legs" parent="CharacterArmature/Skeleton3D" index="14"]
visible = false

[node name="Male_Peasant_Arms" parent="CharacterArmature/Skeleton3D" index="15"]
visible = false

[node name="Male_Peasant_Body" parent="CharacterArmature/Skeleton3D" index="16"]
visible = false

[node name="Peaked Cap" parent="CharacterArmature/Skeleton3D" index="19"]
visible = false

[node name="Pistol" parent="CharacterArmature/Skeleton3D" index="20"]
visible = false

[node name="Scabbard" parent="CharacterArmature/Skeleton3D" index="21"]
visible = false

[node name="Suit_Body" parent="CharacterArmature/Skeleton3D" index="22"]
visible = false

[node name="Swat_Body" parent="CharacterArmature/Skeleton3D" index="24"]
visible = false

[node name="Swat_Feet" parent="CharacterArmature/Skeleton3D" index="25"]
visible = false

[node name="Swat_Legs" parent="CharacterArmature/Skeleton3D" index="26"]
visible = false

[node name="Sword" parent="CharacterArmature/Skeleton3D" index="27"]
visible = false

[node name="HandSlot-Left" type="BoneAttachment3D" parent="CharacterArmature/Skeleton3D" index="28"]
transform = Transform3D(-0.053230565, 0.012561962, 0.9985034, -0.033624828, -0.99937636, 0.0107804835, 0.9980155, -0.033000614, 0.05361989, 0.27916187, 0.8647486, 0.027991105)
bone_name = "Middle2.L"
bone_idx = 17

[node name="HandSlot-Right" type="BoneAttachment3D" parent="CharacterArmature/Skeleton3D" index="29"]
transform = Transform3D(-0.34998226, 0.09598701, -0.9318254, -0.14184718, -0.98869634, -0.04856904, -0.9259538, 0.115178354, 0.35964155, -0.22300221, 0.88479686, 0.18275116)
bone_name = "Middle2.R"
bone_idx = 40

[node name="AnimationPlayer" parent="." index="1"]
autoplay = "Idle"

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeBlendTree_lnvb7")
anim_player = NodePath("../AnimationPlayer")
parameters/OneShot/active = false
parameters/OneShot/internal_active = false
parameters/OneShot/request = 0
parameters/AimBlend/blend_amount = 0.0

[node name="AttackTimer" type="Timer" parent="." index="3"]
wait_time = 0.5
one_shot = true
